<!doctype html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<meta name="format-detection" content="telephone=no">
<title></title>
<link rel="stylesheet" href="css/reset.css">
<link rel="stylesheet" href="css/base.css">
<link rel="stylesheet" href="css/style.css">
</head>
<body>
<div class="swipe-photo">
    <ul class="swipe-photo-container clearfix">
        <li class="swipe-photo-item"><img src="img/0.jpg" class="swipe-photo-thumbnail"></li>
        <li class="swipe-photo-item"><img src="img/1.jpg" class="swipe-photo-thumbnail"></li>
        <li class="swipe-photo-item"><img src="img/2.jpg" class="swipe-photo-thumbnail"></li>
        <li class="swipe-photo-item"><img src="img/3.jpg" class="swipe-photo-thumbnail"></li>
        <li class="swipe-photo-item"><img src="img/4.jpg" class="swipe-photo-thumbnail"></li>
        <li class="swipe-photo-item"><img src="img/5.jpg" class="swipe-photo-thumbnail"></li>
    </ul>
</div>
<script type="text/javascript" src="js/jquery.js"></script>
<script type="text/javascript">
// ここまでたどり着いたあなたは勇者です。
// 今回やるのはフリックです。
// 指を動かしている間は .swipe-photo-container が移動し、離したときに一番近い要素の位置までアニメーションします。
// 挙動はanswerの方を良く見て確認しましょう。
// x座標の取得方法 
// function(e) {
//     e.originalEvent.changedTouches[0].pageX;
// }
// onに複数のイベントを貼る方法
// $(".hoge").on({
//     "event": function() { },
//     "event": function() { }
// });
// touchstart タッチしたタイミングを取ります。
// touchmove タッチしたあとの動いてる状態を取ります。(たくさんイベントが発生します。)
// touchend タッチを離したタイミングを取ります。
// あとは座標をごにょごにょいじるだけです。配列使います。ちょっと難しいです。// タッチイベント
$(function() {
  var swipeContainer =".swipe-photo-container";
  $(swipeContainer).on('touchstart', onTouchStart); //指が触れたか検知
  $(swipeContainer).on('touchmove', onTouchMove); //指が動いたか検知
  $(swipeContainer).on('touchend', onTouchEnd); //指が離れたか検知
  var direction, position;

  //スワイプ開始時の横方向の座標を格納
  function onTouchStart(event) {
    position = getPosition(event);
    direction = ''; //一度リセットする
  }

  //スワイプの方向（left／right）を取得
  function onTouchMove(event) {
    if (position - getPosition(event) > 70) { // 70px以上移動しなければスワイプと判断しない
      direction = 'left'; //左と検知
    } else if (position - getPosition(event) < -70){  // 70px以上移動しなければスワイプと判断しない
      direction = 'right'; //右と検知
    }
  }
  function onTouchEnd(event) {
    if (direction == 'right'){
      slideCurrent--;
      sliding();
    } else if (direction == 'left'){
      slideCurrent++;
      sliding();
    }
  }
  //横方向の座標を取得
  function getPosition(event) {
    return event.originalEvent.touches[0].pageX;
  }
});



// $(document).ready(function(){

// 	/** ②指が触れたか検知 */
// 	$(swipeContainer).on("touchstart", start_check);
// 	/** ③指が動いたか検知 */
// 	$(swipeContainer).on("touchmove", move_check);
// 	/** ④指が離れたか検知 */
// 	$(swipeContainer).on("touchend", end_check);
// 	/** 変数宣言 */
// 	var moveY,modeX, posiY, posiX;
// 	// ⑤タッチ開始時の処理
// 	function start_check(event){
// 		/** 現在の座標取得 */
// 		posiY = getY(event);
// 		posiX = getX(event);
// 		/** 移動距離状態を初期化 */
// 		moveY = '';
// 		moveX = '';
// 		/** 表示メッセージを初期化 */
// 		msgY = '';
// 		msgX = '';
// 	}
// 	// ⑥スワイプ中の処理
// 	function move_check(event){
// 		if (posiX - getX(event) > 70) // 70px以上移動でスワイプと判断
// 		{
// 			/** 右→左と判断 */
// 			moveX = "left";
// 		}
// 		else if (posiX - getX(event) < -70)  // 70px以上移動でスワイプと判断
// 		{
// 			/** 左→右と判断 */			
// 			moveX = "right";
// 		}
 
// 		if (posiY - getY(event) > 70) // 70px以上移動でスワイプと判断
// 		{
// 			/** 下→上と判断 */
// 			moveY = "top";
// 		}
// 		else if (posiY - getY(event) < -70)  // 70px以上移動でスワイプと判断
// 		{
// 			/** 上→下と判断 */			
// 			moveY = "bottom";
// 		}
// 	}
// 	// ⑦指が離れた時の処理
// 	function end_check(event)
// 	{
// 		if (moveX == "left")
// 		{
// 			msgX = "左へ移動";
// 		}
// 		else if (moveX == "right")
// 		{
// 			msgX = "右へ移動";
// 		}
// 		else
// 		{
// 			msgX = "移動なし";
// 		}
// 		if (moveY == "top")
// 		{
// 			msgY = "上へ移動";
// 		}
// 		else if (moveY == "bottom")
// 		{
// 			msgY = "下へ移動";
// 		}
// 		else
// 		{
// 			msgY = "移動なし";
// 		}
// 		$("#msg").text("（横移動）"+msgX+":"+"（縦移動）"+msgY);
// 	}
// 	// 座標取得処理
// 	function getY(event) 
// 	{
// 		//縦方向の座標を取得
// 		return (event.originalEvent.touches[0].pageY);
// 	}
// 	function getX(event) 
// 	{
// 		//横方向の座標を取得
// 		return (event.originalEvent.touches[0].pageX);
// 	}
// });
</script>
</body>
</html>
